# LogerAPI

FastAPI-сервис для логирования информации о файлах и сохранения логов на Google Диск. Веб-интерфейс отображает статистику поступления файлов в реальном времени.

## Возможности
- Приём POST-запросов с данными о файле (без самого файла)
- Сохранение логов в Google Drive, разложенных по папкам по дате
- Веб-интерфейс с графиком поступления файлов (обновление каждую секунду)
- Современный тёмный UI (HTML/CSS/JS, Chart.js)

## Структура проекта
```
LogerAPI/
├── app/
│   ├── api.py           # FastAPI endpoints
│   ├── constants.py     # Константы
│   ├── gdrive_logger.py # Работа с Google Drive
│   └── static/          # index.html, style.css, script.js
├── main.py              # Точка входа FastAPI
├── requirements.txt     # Зависимости
├── .gitignore           # Исключения для git
```

## Быстрый старт
1. **Установите зависимости:**
   ```bash
   pip install -r requirements.txt
   ```
2. **Создайте сервисный ключ Google API** и положите `credentials.json` в корень проекта.
3. **Запустите сервер:**
   ```bash
   uvicorn main:app --reload
   ```
4. **Откройте интерфейс:**
   http://localhost:8000

## API
### POST `/log`
Пример тела запроса (JSON):
```json
{
  "filename": "example.mp3",
  "duration": 123.4,
  "size": 1048576,
  "received_at": "2025-07-21 12:34:56",
  "queue_time": 2.1,
  "process_time": 1.7,
  "text": "Распознанный текст"
}
```

### GET `/stats`
Возвращает статистику по времени поступления файлов (для графика).

## Настройки и переменные
- Все константы вынесены в `app/constants.py`
- Папки и файлы логов создаются на Google Диске автоматически

## UI
- Современный тёмный дизайн
- График поступления файлов (Chart.js)
- Автообновление каждую секунду

---

**Автор:** Александр

Если возникнут вопросы по настройке Google API или интеграции — пишите!
